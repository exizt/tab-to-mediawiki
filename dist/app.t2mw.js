(()=>{"use strict";function e(e,n){let o=n.selector,c=n.options;function r(){!function(e,t){const n=t.selector,o=document.querySelector(n.input).value,c=e.convert(o,t.options),r=document.querySelector(n.output);null!=r&&(r.textContent=c)}(e,n)}t(o.input,"input",r),Object.keys(c).forEach(((e,n)=>{t(o[e],"change",(t=>{c[e]=t.target.checked,r()}))})),t(o.copyBtn,"click",(e=>{var t;e.preventDefault();const o=document.querySelector(n.selector.output);var c;null!=o&&(c=null!==(t=o.textContent)&&void 0!==t?t:"",navigator.clipboard?function(e){navigator.clipboard.writeText(e).catch((e=>console.error(`Error copying to clipboard: ${e}`)))}(c):function(e){var t=document.createElement("textarea");document.body.appendChild(t),t.value=e,t.select();try{document.execCommand("Copy")}catch(e){console&&console.log(e)}document.body.removeChild(t)}(c))}))}function t(e,t,n){var o;null===(o=document.querySelector(e))||void 0===o||o.addEventListener(t,n)}class n{constructor(){}convert(e,t){return t.isReverse?this.decodeText(e,t):this.encodeText(e,t)}encodeText(e,t){let n="";const o=e.split(/\n/);t.isOnlyItems||(t.isSortable?n+='{| class="wikitable sortable"\n':n+='{| class="wikitable"\n');for(let e in o){const n=+e;let c=o[e];if(""==c.replace(/(^\s*)|(\s*$)/gi,""))continue;c=t.isIncludedHeader&&0==n?c.replace(/\t/g," !! "):c.replace(/\t/g," || ");let r="|-\n";t.isIncludedHeader&&0==n?r+="! ":r+="| ",r+=c,r+="\n",o[e]=r}return n+=o.join(""),t.isOnlyItems||(n+="|}"),n}decodeText(e,t){let n="";const o=(e=e.replace(/(\n\|\})/,"")).split(/(\n\|-\n)/);for(let e in o){const t=+e;let c=o[e];if(""!=c.replace(/(\n\|-\n)/gi,"")){if(t<=1&&/(^\{\|)/i.test(c))continue;c=c.replace(/(^!)/,""),c=c.replace(/(^\|)/,""),c=c.replace(/(^\s)|(\s*$)/gi,""),c=c.replace(/(\s*\|\|\s*)/g,"||"),c=c.replace(/(\s*!!\s*)/g,"!!"),c=c.replace(/(\|\|)/gi,"\t"),c=c.replace(/(!!)/gi,"\t"),n+=c,n+="\n"}}return n}}document.addEventListener("DOMContentLoaded",(()=>{e(new n,{options:{isIncludedHeader:!0,isReverse:!1,isOnlyItems:!1,isSortable:!1},selector:{isIncludedHeader:"#opt_included_header",isReverse:"#opt_reverse",isOnlyItems:"#opt_only_items",isSortable:"#opt_sortable",input:"#input",copyBtn:"#btn_copyresult",output:"#output"}})}))})();